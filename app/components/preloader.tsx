import {motion, useAnimate} from "motion/react"
import {useEffect} from "react";

export default function Preloader() {
    const [scope, animate] = useAnimate();

    useEffect(() => {
        const animateLoader = () => {
            animate(
                [
                    [".h1", {pathLength: 0.5, pathOffset: 0}],
                    [".h1", {pathLength: 0.005, pathOffset: 0}],
                    [".h2", {pathLength: 0.5, pathOffset: 0.5}, {at: "<"}]
                ],
                {duration: 2, ease: "linear", repeat: Infinity}
            );
            animate(
                [
                    [".t1", {pathLength: 0.5, pathOffset: 0}],
                    [".t1", {pathLength: 0.005, pathOffset: 0}],
                    [".t2", {pathLength: 0.5, pathOffset: 0.5}, {at: "<"}]
                ],
                {duration: 2, ease: "linear", repeat: Infinity}
            );
            animate(
                [
                    [".n1", {pathLength: 1.1, pathOffset: 0}],
                    [".n1", {pathLength: 0, pathOffset: 0}]
                ],
                {duration: 1.8, repeat: Infinity, repeatDelay: 0.6}
            );
            animate(
                [
                    [".n2", {pathLength: 1.1, pathOffset: 0}],
                    [".n2", {pathLength: 0, pathOffset: 0}]
                ],
                {duration: 2, repeat: Infinity, repeatDelay: 0.6}
            );
        };

        animateLoader();
    }, []);

    return (
        <div className={'relative overflow-hidden'}>
            <svg
                ref={scope}
                className="w-[350px] md:w-[600px] md:h-[600px] -m-2"
                viewBox="0 0 720.000000 720.000000"
                version="1.0"
                xmlns="http://www.w3.org/2000/svg"
                preserveAspectRatio="xMidYMid meet"
            >
                <g transform="translate(0.000000,720.000000) scale(0.100000,-0.100000)" stroke="none"
                   fill="currentColor">
                    <motion.path
                        className="h1"
                        initial={{pathLength: 0.5, pathOffset: 0.5}}
                        fill={'transparent'} stroke={'#ffffff'} strokeWidth={'40'}
                        d="M0 3600 l0 -3600 3600 0 3600 0 0 3600 0 3600 -3600 0 -3600 0 0
                        -3600z m3791 2090 c318 -32 625 -134 889 -294 300 -182 568 -457 739 -756 88
                        -154 92 -140 -41 -140 l-114 0 -89 138 c-76 115 -114 161 -240 288 -120 120
                        -175 167 -274 233 -337 224 -682 331 -1071 331 -389 0 -734 -107 -1071 -331
                        -174 -116 -382 -324 -498 -498 -90 -135 -174 -295 -215 -409 -116 -323 -146
                        -690 -84 -1014 l11 -58 103 0 104 0 0 535 0 535 150 0 150 0 0 -250 0 -250
                        265 0 265 0 0 250 0 250 823 0 822 0 270 -435 270 -434 3 435 2 434 318 -2
                        317 -3 23 -70 c13 -38 34 -135 48 -215 119 -691 -95 -1370 -586 -1860 -683
                        -683 -1731 -816 -2564 -326 -318 187 -596 475 -780 809 l-38 67 119 0 118 0
                        80 -122 c113 -173 329 -391 500 -504 342 -227 685 -334 1075 -334 390 0 733
                        107 1075 334 170 113 379 322 494 495 238 358 342 719 328 1136 -4 135 -25
                        305 -42 353 -3 8 -33 12 -105 12 l-100 0 -2 -542 -3 -543 -143 -3 -142 -3 -53
                        83 c-29 46 -152 242 -273 437 l-219 354 -5 -434 -5 -434 -135 0 -135 0 -3 533
                        -2 532 -195 0 -195 0 -2 -532 -3 -533 -145 0 -145 0 -3 533 -2 532 -185 0
                        -185 0 -2 -532 -3 -533 -142 -3 -143 -3 0 286 0 285 -265 0 -265 0 -2 -282 -3
                        -283 -315 -2 c-173 -2 -321 1 -328 6 -36 23 -100 357 -109 571 -24 586 198
                        1152 617 1570 449 448 1070 672 1691 610z m-891 -4561 c40 0 43 -2 27 -13 -15
                        -12 -15 -15 -3 -19 25 -10 48 -65 41 -97 -8 -35 -60 -83 -108 -101 l-35 -12
                        31 -21 c45 -31 58 -85 32 -134 -11 -19 -37 -49 -57 -65 -68 -55 -178 -46 -178
                        14 0 24 58 89 79 89 12 -1 10 -6 -10 -23 -39 -32 -52 -63 -39 -87 6 -11 17
                        -20 24 -20 38 0 116 124 116 185 0 39 -16 55 -53 55 -16 0 -26 4 -22 10 3 6
                        17 7 31 4 34 -9 68 16 93 70 24 49 26 126 3 134 -14 4 -70 -51 -89 -89 -7 -13
                        -32 -67 -56 -120 -76 -166 -153 -229 -287 -236 -63 -4 -80 -1 -107 16 -42 27
                        -52 64 -26 99 15 20 29 27 53 27 63 0 67 -64 5 -75 -42 -7 -42 -28 1 -46 86
                        -36 149 11 244 180 60 108 152 216 200 236 43 18 37 28 -22 35 -113 14 -275
                        -42 -347 -120 -44 -48 -52 -83 -25 -109 20 -21 40 -20 89 3 53 24 103 77 117
                        123 13 44 28 50 28 10 0 -97 -77 -182 -165 -182 -127 0 -140 116 -23 201 90
                        65 182 90 303 83 50 -2 110 -5 135 -5z m1900 -237 c0 -4 -5 -13 -11 -19 -9 -9
                        -6 -21 11 -48 13 -22 23 -53 23 -75 l0 -39 80 70 c44 38 84 69 89 69 13 0
                        -157 -160 -205 -192 -72 -50 -164 -30 -155 34 2 15 11 24 26 26 27 4 40 -23
                        23 -49 -9 -15 -8 -19 2 -19 33 0 67 74 67 144 l0 41 -82 -81 c-46 -45 -96 -91
                        -112 -102 -48 -37 -106 -25 -106 22 0 19 0 19 -22 -1 -75 -68 -158 -51 -158
                        32 0 47 20 84 66 125 67 58 140 76 177 43 18 -17 19 -17 28 0 10 18 79 25 79
                        8 0 -4 -23 -57 -50 -116 -28 -59 -49 -110 -46 -112 5 -5 235 211 249 234 9 14
                        27 18 27 5z m-1702 -14 c24 -24 13 -84 -29 -163 -32 -61 -36 -74 -20 -66 28
                        15 86 85 138 169 46 72 47 72 91 72 l44 0 -61 -115 c-58 -110 -60 -115 -34
                        -101 16 8 66 51 113 96 47 45 102 90 122 101 45 23 95 25 118 4 15 -14 18 -14
                        30 0 12 15 80 22 80 8 0 -3 -25 -53 -56 -111 -30 -57 -53 -106 -51 -108 8 -8
                        99 65 159 126 87 90 175 124 218 85 15 -14 18 -14 30 0 12 15 80 22 80 8 0 -3
                        -25 -53 -56 -111 -30 -57 -53 -106 -51 -108 7 -8 98 64 168 133 37 36 71 64
                        76 62 15 -6 -186 -189 -233 -212 -24 -11 -44 -24 -44 -28 0 -4 -23 -42 -52
                        -84 -59 -90 -120 -135 -180 -135 -36 0 -78 26 -78 49 0 21 20 60 42 81 24 23
                        154 90 174 90 7 0 22 16 34 37 l21 36 -36 -31 c-47 -42 -94 -44 -125 -5 -13
                        17 -20 38 -18 54 4 26 3 25 -47 -15 -28 -23 -65 -48 -83 -55 -17 -7 -32 -17
                        -32 -21 0 -5 -23 -43 -52 -85 -59 -90 -120 -135 -180 -135 -36 0 -78 26 -78
                        49 0 21 20 60 42 81 24 23 154 90 174 90 7 0 22 16 34 37 l21 36 -36 -31 c-47
                        -42 -94 -44 -125 -5 -14 18 -20 37 -18 55 l5 28 -31 -25 c-17 -14 -52 -38 -78
                        -53 -32 -19 -61 -48 -87 -89 -49 -77 -106 -140 -142 -159 -38 -19 -98 -18
                        -121 3 -54 48 8 129 139 183 59 24 83 40 96 62 l17 30 -42 -31 c-96 -70 -144
                        -6 -83 111 30 58 29 69 -5 33 -24 -25 -40 -32 -40 -17 0 5 20 29 45 55 45 47
                        71 57 93 35z m1090 -170 c7 -7 12 -21 12 -33 0 -28 -19 -45 -50 -45 -30 0 -50
                        16 -50 41 0 40 60 65 88 37z"
                        style={{fontFamily: "Melbourne Bold", fillOpacity: 0, stroke: "#ffffff"}}
                    />
                    <motion.path
                        className="h2"
                        initial={{pathLength: 0, pathOffset: 1}}
                        d="M4438 833 c-44 -45 -108 -149 -108 -175 0 -33 33 -19 86 36 51 53 94
                        121 94 150 0 11 -19 26 -34 26 -1 0 -18 -17 -38 -37z"
                        style={{fontFamily: "Melbourne Bold", fillOpacity: 0, stroke: "#ffffff"}}
                    />
                    <motion.path
                        className="t1"
                        initial={{pathLength: 0.5, pathOffset: 0.5}}
                        d="M3523 855 c-54 -38 -149 -215 -115 -215 21 0 75 45 111 92 50 67 66
                        105 50 124 -14 18 -20 17 -46 -1z"
                        style={{fontFamily: "Melbourne Bold", fillOpacity: 0, stroke: "#ffffff"}}
                    />
                    <motion.path
                        className="t2"
                        initial={{pathLength: 0, pathOffset: 1}}
                        d="M3903 855 c-54 -38 -149 -215 -115 -215 21 0 75 45 111 92 50 67 66
                        105 50 124 -14 18 -20 17 -46 -1z"
                        style={{fontFamily: "Melbourne Bold", fillOpacity: 0, stroke: "#ffffff"}}
                    />
                    <motion.path
                        className="n1"
                        initial={{pathLength: 1.1, pathOffset: 1}}
                        d="M3016 576 c-88 -44 -144 -117 -115 -152 18 -22 36 -17 74 19 33 31
                        111 157 97 157 -4 0 -29 -11 -56 -24z"
                        style={{fontFamily: "Melbourne Bold", fillOpacity: 0, stroke: "#ffffff"}}
                    />
                    <motion.path
                        className="n2"
                        initial={{pathLength: 1.1, pathOffset: 1}}
                        d="M3395 574 c-69 -35 -115 -81 -115 -115 0 -35 31 -47 65 -25 35 23
                        129 166 108 166 -5 0 -30 -12 -58 -26z"
                        style={{fontFamily: "Melbourne Bold", fillOpacity: 0, stroke: "#ffffff"}}
                    />
                </g>
            </svg>
        </div>
    );
}